<!-- views/recipes/singleRecipe.ejs -->

<%- include('../layouts/mainLayout', { title: recipe.name, content: '' }) %>

<h1><%= recipe.name %></h1>

<div class="recipe-details">
    <p><strong>Інгредієнти:</strong> <%= recipe.ingredients %></p>
    <p><strong>Інструкція:</strong> <%= recipe.instructions %></p>

    <!-- Коментарі -->
    <div class="comments">
        <h2>Коментарі</h2>
        <% recipe.comments.forEach(function(comment) { %>
            <div class="comment">
                <p><strong><%= comment.author %>:</strong> <%= comment.text %></p>
            </div>
        <% }); %>
    </div>

    <!-- Рейтинг -->
    <div class="rating">
        <h2>Рейтинг</h2>
        <p>Середній рейтинг: <%= recipe.averageRating %></p>
        
        <!-- Форма для оцінки рецепту -->
        <form action="/recipes/rate/<%= recipe._id %>" method="POST">
            <label for="rating">Оцінка:</label>
            <select id="rating" name="rating">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
            <button type="submit">Оцінити</button>
        </form>
    </div>
</div>
